# [IdGenerator.java ](IdGenerator.java) 

## Как работает?
Класс `IdGenerator` отвечает за генерацию уникальных идентификаторов и сохранение их в файл. Он реализует паттерн одиночка (Singleton), чтобы гарантировать существование только одного экземпляра класса.

## Основные моменты

- **Singleton**: Класс использует приватный конструктор и статический метод `getInstance`, чтобы обеспечить создание только одного экземпляра `IdGenerator`.
- **FileWorker**: Использует класс `BufferedFileWorker` для работы с файлами, чтения последнего использованного идентификатора и записи новых идентификаторов.
- **Инициализация**: При создании экземпляра класс читает последний идентификатор из файла и инициализирует переменную `currentId`. Если файл не содержит допустимый идентификатор, он инициализирует `currentId` значением `0`.
- **Генерация идентификаторов**: Метод `generateId` увеличивает значение `currentId`, сохраняет его в файл и возвращает новый идентификатор.
- **Управление ресурсами**: Метод `close` гарантирует, что ресурсы, используемые `FileWorker`, корректно закрываются.


А из какого файлы мы крадем? Ищем в [конфигурациях](../../configuration). А точнее - в [FileConfiguration.java](../../configuration/FileConfiguration.java).